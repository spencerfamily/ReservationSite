@model IList<Reservation>
<!-- CSS Styles -->
<link href='https://use.fontawesome.com/releases/v5.0.6/css/all.css' rel='stylesheet'>
<link href='~/packages/fullcalendar-4.0.2/packages/core/main.css' rel='stylesheet' />
<link href='~/packages/fullcalendar-4.0.2/packages/daygrid/main.css' rel='stylesheet' />
<link href='~/packages/fullcalendar-4.0.2/packages/bootstrap/main.css' rel='stylesheet' />
<style>
    reserved {
        display: inline-block;
        height: 150px;
        background-color: red;
    }
</style>

<!--JS-->
<script src='~/packages/fullcalendar-4.0.2/packages/core/main.js'></script>
<script src='~/packages/fullcalendar-4.0.2/packages/daygrid/main.js'></script>
<script src='~/packages/fullcalendar-4.0.2/packages/bootstrap/main.js'></script>

<div id="calendar"></div>

<script type="text/javascript">
    var events = [
        @{
            List<string> resItems = new List<string>();
            foreach (var Res in Model)
            {
                string resItem = "{";
                resItem += $"\n\t\t\tid: '{Res.Id}',";
                resItem += $"\n\t\t\tallDay: true,";
                resItem += $"\n\t\t\tstart: '{Res.StartDate.ToShortDateString()}',";
                resItem += $"\n\t\t\tend: '{Res.EndDate.ToShortDateString()}',";
                resItem += $"\n\t\t\ttitle: '{Res.UserId}'";

                resItem += "\n\t\t}";
                resItems.Add(resItem);
            }
            string resRet = String.Join(",\n", resItems);
        }
        @Html.Raw(resRet)
    ];
    document.addEventListener('DOMContentLoaded', function () {
        //alert("HERE");
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            plugins: [ 'dayGrid', 'bootstrap' ],
            timeZone: 'UTC',
            themeSystem: 'bootstrap',
            header: {
                left: 'prev,next,today',
                center: 'title',
                right: ''
            },
            //weekNumbers: true,
            eventLimit: true, // allow "more" link when too many events
            //events: 'https://fullcalendar.io/demo-events.json'
            events: events
        });

        calendar.render();
    });
</script>
